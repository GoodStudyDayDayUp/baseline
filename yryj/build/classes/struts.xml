<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>		
		<package name="default" extends="struts-default" >
		    <global-results>
				<result name="404">errorPage/404error.jsp</result>
				<result name="wrong">errorPage/othererror.jsp</result>
		    </global-results>
		    
		    <action name="beforeregister" class="userAction" method="beforeRegister">
				<result name="success">/register.jsp</result>
			</action>
			<action name="register" class="userAction" method="registerUser">
				<result name="input">/register.jsp</result>
				<result name="success">/login.jsp</result>
				<result name="error">/register.jsp</result>
			</action>
			<action name="beforelogin" class="userAction" method="beforeLogin">
				<result name="success">/login.jsp</result>
			</action>
			<action name="login" class="userAction" method="loginUser">
				<result name="input">/login.jsp</result>
				<result name="success" type="chain">readStart</result>
				<result name="error">/login.jsp</result>
			</action>
				<action name="update" class="userAction" method="updateUser">
				<result name="success">/main.jsp</result>
				<result name="error">/login.jsp</result>
			</action>
			<action name="logout" class="userAction" method="logout">
				<result name="success">/login.jsp</result>
				<result name="error">/login.jsp</result>
			</action>
			<action name="updateUser" class="userAction" method="updateUser">
			    <result name="success">/usercenter.jsp</result>
			    <result name="error">/usercenter.jsp</result>
			</action>
			<action name="getInfo" class="userAction" method="getAllUserData">
			    <result name="success">/usercenter.jsp</result>
			</action>
			
			
			
			<action name="draft" class="com.yryj.action.DraftAction" method="saveDraft">
			    <result name="success" type="chain">getInfo</result>
				<result name="error">/login.jsp</result>
			</action>
			<action name="deleteDraft" class="com.yryj.action.DraftAction" method="deleteDraft">
			    <result name="success">/main-tree.jsp</result>
				<result name="error">/login.jsp</result>
			</action>
			<action name="readDraft" class="com.yryj.action.DraftAction" method="readDraft">
			    <result name="create">/creat_story.jsp</result>
			    <result name="success">/write.jsp</result>
				<result name="error">/login.jsp</result>
			</action>
			
			
			<action name="write" class="com.yryj.action.ChapterAction" method="write">
				<result name="success" type="chain">readStory</result>
				<result name="main" type="chain">readStart</result>
				<result name="login">/login.jsp</result>
			</action>
			<action name="readStart" class="com.yryj.action.ChapterAction" method="readStart">
				<result name="success">/main.jsp</result>
			</action>	
			<action name="startTree"  class="com.yryj.action.ChapterAction" method="readStart">
				<result name="success">/main-tree.jsp</result>
			</action>	
			<action name="getStart" class="com.yryj.action.ChapterAction" method="getStarts">
				<result name="success">/main-tree.jsp</result>
			</action>			
			<action name="readStory" class="com.yryj.action.ChapterAction" method="readStory">
				<result name="success">/read.jsp</result>
			</action>
			<action name="prepareWrite" class="com.yryj.action.ChapterAction" method="prepareWrite">
				<result name="success">/write.jsp</result>
			</action>
			<action name="turnStory" class="com.yryj.action.ChapterAction" method="getLeftOrRight">
				<result name="success">/read.jsp</result>
			</action>
			

		</package>
		
</struts>
